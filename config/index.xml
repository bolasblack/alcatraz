<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Configuration on Alcatraz</title><link>https://bolasblack.github.io/alcatraz/config/</link><description>Recent content in Configuration on Alcatraz</description><generator>Hugo</generator><language>en</language><atom:link href="https://bolasblack.github.io/alcatraz/config/index.xml" rel="self" type="application/rss+xml"/><item><title>Includes</title><link>https://bolasblack.github.io/alcatraz/config/includes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://bolasblack.github.io/alcatraz/config/includes/</guid><description>&lt;h1 id="includes"&gt;Includes&lt;a class="anchor" href="#includes"&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Configuration files can include other files for composable configuration:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;includes&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#111"&gt;[&lt;/span&gt;&lt;span style="color:#d88200"&gt;&amp;#34;.alca.dev.toml&amp;#34;&lt;/span&gt;&lt;span style="color:#111"&gt;,&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;.alca.local.toml&amp;#34;&lt;/span&gt;&lt;span style="color:#111"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="basic-usage"&gt;Basic Usage&lt;a class="anchor" href="#basic-usage"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# .alca.toml - main config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;includes&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#111"&gt;[&lt;/span&gt;&lt;span style="color:#d88200"&gt;&amp;#34;.alca.base.toml&amp;#34;&lt;/span&gt;&lt;span style="color:#111"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;image&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;myapp:latest&amp;#34;&lt;/span&gt; &lt;span style="color:#75715e"&gt;# Override base image&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# .alca.base.toml - shared base config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;image&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;nixos/nix&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;workdir&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;/workspace&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;[&lt;/span&gt;&lt;span style="color:#75af00"&gt;commands&lt;/span&gt;&lt;span style="color:#111"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;enter&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;[ -f flake.nix ] &amp;amp;&amp;amp; exec nix develop&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="path-resolution"&gt;Path Resolution&lt;a class="anchor" href="#path-resolution"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Paths are resolved &lt;strong&gt;relative to the including file&amp;rsquo;s directory&lt;/strong&gt; (not the current working directory)&lt;/li&gt;
&lt;li&gt;Absolute paths are also supported&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="glob-patterns"&gt;Glob Patterns&lt;a class="anchor" href="#glob-patterns"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Use glob patterns to include multiple files:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;includes&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#111"&gt;[&lt;/span&gt;&lt;span style="color:#d88200"&gt;&amp;#34;.alca.*.toml&amp;#34;&lt;/span&gt;&lt;span style="color:#111"&gt;]&lt;/span&gt; &lt;span style="color:#75715e"&gt;# Includes .alca.dev.toml, .alca.local.toml, etc.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Supported patterns: &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;?&lt;/code&gt;, &lt;code&gt;[...]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Empty glob results are OK (no error if no files match)&lt;/li&gt;
&lt;li&gt;Literal paths (without glob characters) must exist or will error&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="merge-behavior"&gt;Merge Behavior&lt;a class="anchor" href="#merge-behavior"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;Type&lt;/th&gt;
 &lt;th&gt;Behavior&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;strong&gt;Objects&lt;/strong&gt;&lt;/td&gt;
 &lt;td&gt;Deep merge (nested fields merged recursively)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;strong&gt;Arrays&lt;/strong&gt;&lt;/td&gt;
 &lt;td&gt;Append (concatenate, no deduplication)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;strong&gt;Same key&lt;/strong&gt;&lt;/td&gt;
 &lt;td&gt;Later value wins (overlay overrides base)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="processing-order"&gt;Processing Order&lt;a class="anchor" href="#processing-order"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Includes are processed depth-first:&lt;/p&gt;</description></item><item><title>Field Reference</title><link>https://bolasblack.github.io/alcatraz/config/fields/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://bolasblack.github.io/alcatraz/config/fields/</guid><description>&lt;h1 id="field-reference"&gt;Field Reference&lt;a class="anchor" href="#field-reference"&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id="image"&gt;image&lt;a class="anchor" href="#image"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The container image to use for the isolated environment.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;image&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;nixos/nix&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Type&lt;/strong&gt;: string&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Required&lt;/strong&gt;: Yes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Default&lt;/strong&gt;: None (must be specified)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Examples&lt;/strong&gt;: &lt;code&gt;&amp;quot;ubuntu:22.04&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;quot;alpine:latest&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;quot;nixos/nix&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="workdir"&gt;workdir&lt;a class="anchor" href="#workdir"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The working directory inside the container where your project will be mounted.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;workdir&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;/workspace&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Type&lt;/strong&gt;: string&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Required&lt;/strong&gt;: No&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Default&lt;/strong&gt;: &lt;code&gt;&amp;quot;/workspace&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Notes&lt;/strong&gt;: Must be an absolute path&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="workdir_exclude"&gt;workdir_exclude&lt;a class="anchor" href="#workdir_exclude"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Patterns to exclude from the workdir mount. When specified, Alcatraz uses &lt;a href="https://mutagen.io/"&gt;Mutagen&lt;/a&gt; for file synchronization instead of direct bind mounts.&lt;/p&gt;</description></item><item><title>Network Configuration</title><link>https://bolasblack.github.io/alcatraz/config/network/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://bolasblack.github.io/alcatraz/config/network/</guid><description>&lt;h1 id="network-configuration"&gt;Network Configuration&lt;a class="anchor" href="#network-configuration"&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Configure network access for containers. See &lt;a href="https://github.com/bolasblack/alcatraz/blob/master/.agents/decisions/AGD-030_orbstack-nftables-network-isolation.md"&gt;AGD-030&lt;/a&gt; for design rationale.&lt;/p&gt;
&lt;h2 id="networklan-access"&gt;network.lan-access&lt;a class="anchor" href="#networklan-access"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Allow containers to access LAN hosts.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;[&lt;/span&gt;&lt;span style="color:#75af00"&gt;network&lt;/span&gt;&lt;span style="color:#111"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75af00"&gt;lan-access&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#111"&gt;[&lt;/span&gt;&lt;span style="color:#d88200"&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span style="color:#111"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Type&lt;/strong&gt;: array of strings&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Required&lt;/strong&gt;: No&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Default&lt;/strong&gt;: &lt;code&gt;[]&lt;/code&gt; (no LAN access)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Valid values&lt;/strong&gt;: &lt;code&gt;&amp;quot;*&amp;quot;&lt;/code&gt; (allow all LAN access)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="platform-behavior"&gt;Platform Behavior&lt;a class="anchor" href="#platform-behavior"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Both macOS and Linux use &lt;strong&gt;nftables&lt;/strong&gt; for network isolation and LAN access rules.&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;Platform&lt;/th&gt;
 &lt;th&gt;Runtime&lt;/th&gt;
 &lt;th&gt;Mechanism&lt;/th&gt;
 &lt;th&gt;Helper&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;macOS&lt;/td&gt;
 &lt;td&gt;OrbStack&lt;/td&gt;
 &lt;td&gt;nftables via vmhelper container (nsenter into VM)&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;alcatraz-network-helper&lt;/code&gt; Docker container&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;macOS&lt;/td&gt;
 &lt;td&gt;Docker Desktop&lt;/td&gt;
 &lt;td&gt;nftables via vmhelper container (nsenter into VM)&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;alcatraz-network-helper&lt;/code&gt; Docker container&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Linux&lt;/td&gt;
 &lt;td&gt;Docker/Podman&lt;/td&gt;
 &lt;td&gt;Native nftables&lt;/td&gt;
 &lt;td&gt;Include in &lt;code&gt;/etc/nftables.conf&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="network-helper"&gt;Network Helper&lt;a class="anchor" href="#network-helper"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The network helper manages nftables firewall rules for container network isolation. It works on both macOS and Linux, with platform-specific implementations.&lt;/p&gt;</description></item></channel></rss>