# fslint configuration
# This linter detects direct filesystem operations in specified packages.

# Directories to scan for packages.
# Only packages under these directories will be checked.
scan_dirs = ["internal/"]

# Package paths that are allowed to use filesystem operations directly.
# These packages and their subpackages will be skipped during linting.
allowed_packages = ["internal/transact", "internal/sudo"]

# Forbidden function calls by package.
# Format: { "package_path" = ["function1", "function2", ...] }
[forbidden_calls]
"os" = [
    "Open",
    "Create",
    "OpenFile",
    "ReadFile",
    "WriteFile",
    "Remove",
    "RemoveAll",
    "Mkdir",
    "MkdirAll",
    "Stat",
    "Lstat",
    "ReadDir",
    "Rename",
    "Chmod",
    "Chown",
]

"io/ioutil" = [
    "ReadFile",
    "WriteFile",
    "ReadDir",
    "TempFile",
    "TempDir",
]
