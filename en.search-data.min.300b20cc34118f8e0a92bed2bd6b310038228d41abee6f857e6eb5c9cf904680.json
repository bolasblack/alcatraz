[{"id":0,"href":"/alcatraz/quickstart/","title":"Quickstart","section":"Alcatraz Documentation","content":"Quickstart Guide# Get started with Alcatraz in under 5 minutes.\nInstallation# Go Install# go install github.com/bolasblack/alcatraz/cmd/alca@latestNix# nix profile install github:bolasblack/alcatrazBuild from Source# git clone https://github.com/bolasblack/alcatraz.git cd alcatraz make buildThe binary is created at out/bin/alca. Add it to your PATH:\nexport PATH=\u0026#34;$PWD/out/bin:$PATH\u0026#34;Basic Commands# Command Description alca init Create .alca.toml configuration alca up Start container alca run \u0026lt;cmd\u0026gt; Execute command in container alca down Stop and remove container alca status Show container status and config info Your First Container# Step 1: Initialize# Navigate to your project directory and initialize Alcatraz:\ncd my-project alca initOutput:\nCreated .alca.toml Edit this file to customize your container settings.This creates a default .alca.toml:\nimage = \u0026#34;nixos/nix\u0026#34; workdir = \u0026#34;/workspace\u0026#34; runtime = \u0026#34;auto\u0026#34; [commands] enter = \u0026#34;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026#34;Step 2: Configure (Optional)# Edit .alca.toml to customize your setup:\nimage = \u0026#34;nixos/nix\u0026#34; workdir = \u0026#34;/workspace\u0026#34; runtime = \u0026#34;auto\u0026#34; [commands] enter = \u0026#34;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026#34; [resources] memory = \u0026#34;8g\u0026#34; cpus = 4Configuration options:\nField Description image Container image to use workdir Working directory inside container runtime auto or docker commands.enter Shell setup command for alca run resources.memory Memory limit (e.g., 4g, 512m) resources.cpus CPU limit (e.g., 4) Step 3: Start the Container# alca upOutput:\n→ Loading config from .alca.toml → Detecting runtime... → Detected runtime: docker → Created new state file: .alca.state.json ✓ Environment readyStep 4: Run Commands# Execute commands inside the container:\nalca run ls -la alca run make build alca run npm testYour project directory is mounted at /workspace by default.\nStep 5: Check Status# alca statusOutput:\nStatus: Initialized Config: /path/to/my-project/.alca.toml Runtime: docker Project ID: my-project-abc123 Container: Running ID: container-id Name: alca-my-project Image: nixos/nix Started: 2024-01-15 10:30:00 Run \u0026#39;alca run \u0026lt;command\u0026gt;\u0026#39; to execute commands.Step 6: Stop the Container# alca downOutput:\nUsing runtime: docker Container stopped successfully.Nix/Flake Integration# Alcatraz automatically detects flake.nix in your project and integrates with nix develop.\nHow It Works# When you run commands with alca run:\nAlcatraz checks if flake.nix exists in your project root If found, commands are wrapped with nix develop --command Your flake\u0026rsquo;s development environment is automatically activated Example with Flake# Given a flake.nix:\n{ inputs.nixpkgs.url = \u0026#34;github:NixOS/nixpkgs/nixos-unstable\u0026#34;; outputs = { nixpkgs, ... }: let pkgs = nixpkgs.legacyPackages.x86_64-linux; in { devShells.x86_64-linux.default = pkgs.mkShell { packages = [ pkgs.go pkgs.nodejs ]; }; }; }Commands automatically have access to go and nodejs:\nalca run go version # Uses Go from your flake alca run node --versionDefault Configuration# The default commands.enter setting handles flake detection:\n[commands] enter = \u0026#34;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026#34;Configuration Drift Detection# Alcatraz tracks configuration changes and warns when the running container doesn\u0026rsquo;t match your config.\n# After modifying .alca.toml alca statusOutput:\n⚠️ Configuration drift detected: Image: nixos/nix → ubuntu:latest Resources.memory: 4g → 8g Run \u0026#39;alca up -f\u0026#39; to rebuild with new configuration.To apply changes:\nalca up -f # Force rebuildOr during normal alca up, you\u0026rsquo;ll be prompted:\nConfiguration has changed since last container creation: Image: nixos/nix → ubuntu:latest Rebuild container with new configuration? [y/N]Next Steps# See alca --help for all available commands Check alca \u0026lt;command\u0026gt; --help for command-specific options Review the Configuration Reference for all options "},{"id":1,"href":"/alcatraz/config/","title":"Configuration","section":"Alcatraz Documentation","content":"Configuration Reference# This document describes the .alca.toml configuration file format for Alcatraz.\nTable of Contents# Overview Includes Field Reference Runtime-Specific Notes Network Configuration Full Example Overview# Alcatraz uses TOML format for configuration. The configuration file should be named .alca.toml and placed in your project root.\nIncludes# Configuration files can include other files for composable configuration:\nincludes = [\u0026#34;.alca.dev.toml\u0026#34;, \u0026#34;.alca.local.toml\u0026#34;]Basic Usage# # .alca.toml - main config includes = [\u0026#34;.alca.base.toml\u0026#34;] image = \u0026#34;myapp:latest\u0026#34; # Override base image# .alca.base.toml - shared base config image = \u0026#34;nixos/nix\u0026#34; workdir = \u0026#34;/workspace\u0026#34; [commands] enter = \u0026#34;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026#34;Path Resolution# Paths are resolved relative to the including file\u0026rsquo;s directory (not the current working directory) Absolute paths are also supported Glob Patterns# Use glob patterns to include multiple files:\nincludes = [\u0026#34;.alca.*.toml\u0026#34;] # Includes .alca.dev.toml, .alca.local.toml, etc. Supported patterns: *, ?, [...] Empty glob results are OK (no error if no files match) Literal paths (without glob characters) must exist or will error Merge Behavior# Type Behavior Objects Deep merge (nested fields merged recursively) Arrays Append (concatenate, no deduplication) Same key Later value wins (overlay overrides base) Processing Order# Includes are processed depth-first:\n.alca.toml includes [.alca.dev.toml] .alca.dev.toml includes [.alca.common.toml] Load .alca.common.toml Load .alca.dev.toml, merge with .alca.common.toml Load .alca.toml, merge with result Error Handling# Circular reference: Error with clear message File not found (literal path): Error Empty glob result: OK (continues without including anything) Example: Environment-specific Configuration# # .alca.toml includes = [\u0026#34;.alca.base.toml\u0026#34;, \u0026#34;.alca.local.toml\u0026#34;] # .alca.local.toml is gitignored for machine-specific overrides # .alca.base.toml (checked into repo) image = \u0026#34;nixos/nix\u0026#34; workdir = \u0026#34;/workspace\u0026#34; mounts = [\u0026#34;~/.gitconfig:/root/.gitconfig:ro\u0026#34;] # .alca.local.toml (gitignored) mounts = [\u0026#34;/my/local/cache:/cache\u0026#34;] [resources] memory = \u0026#34;32g\u0026#34; cpus = 16See AGD-022 for design rationale.\nField Reference# Field Type Required Default Description image string Yes \u0026quot;nixos/nix\u0026quot; Container image to use workdir string No \u0026quot;/workspace\u0026quot; Working directory inside container workdir_exclude array No [] Patterns to exclude from workdir mount runtime string No \u0026quot;auto\u0026quot; Runtime selection mode commands.up string No - Setup command (run once on container creation) commands.enter string No \u0026quot;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026quot; Entry command (run on each shell entry) mounts array No [] Additional mount points resources.memory string No - Memory limit (e.g., \u0026ldquo;4g\u0026rdquo;, \u0026ldquo;512m\u0026rdquo;) resources.cpus int No - CPU limit (e.g., 2, 4) envs table No See below Environment variables for the container network.lan-access array No [] LAN access configuration (macOS only) caps array/table No See below Container Linux capabilities configuration image# The container image to use for the isolated environment.\nimage = \u0026#34;nixos/nix\u0026#34; Type: string Required: Yes Default: \u0026quot;nixos/nix\u0026quot; Examples: \u0026quot;ubuntu:22.04\u0026quot;, \u0026quot;alpine:latest\u0026quot;, \u0026quot;nixos/nix\u0026quot; workdir# The working directory inside the container where your project will be mounted.\nworkdir = \u0026#34;/workspace\u0026#34; Type: string Required: No Default: \u0026quot;/workspace\u0026quot; Notes: Must be an absolute path workdir_exclude# Patterns to exclude from the workdir mount. When specified, Alcatraz uses Mutagen for file synchronization instead of direct bind mounts.\nworkdir = \u0026#34;/workspace\u0026#34; workdir_exclude = [\u0026#34;node_modules\u0026#34;, \u0026#34;.git\u0026#34;, \u0026#34;dist\u0026#34;] Type: array of strings Required: No Default: [] Notes: Patterns follow gitignore-like syntax (see Exclude Patterns) This is a convenience shorthand for configuring excludes on the workdir mount. The following configurations are equivalent:\n# Using workdir_exclude (recommended) workdir = \u0026#34;/workspace\u0026#34; workdir_exclude = [\u0026#34;node_modules\u0026#34;, \u0026#34;.git\u0026#34;]# Using extended mount format workdir = \u0026#34;/workspace\u0026#34; [[mounts]] source = \u0026#34;.\u0026#34; target = \u0026#34;/workspace\u0026#34; exclude = [\u0026#34;node_modules\u0026#34;, \u0026#34;.git\u0026#34;]Note: You cannot use both workdir_exclude and a separate mount targeting the same path as workdir. Attempting to do so will result in an error.\nruntime# Selects which container runtime to use.\nruntime = \u0026#34;auto\u0026#34; Type: string Required: No Default: \u0026quot;auto\u0026quot; Valid values: \u0026quot;auto\u0026quot; - Auto-detect best available runtime (Linux: Podman \u0026gt; Docker; Other: Docker) \u0026quot;docker\u0026quot; - Force Docker regardless of other available runtimes commands.up# Setup command executed once when the container is created. Use this for one-time initialization tasks.\n[commands] up = \u0026#34;nix-channel --update \u0026amp;\u0026amp; nix-env -iA nixpkgs.git\u0026#34; Type: string Required: No Default: None Examples: \u0026quot;apt-get update \u0026amp;\u0026amp; apt-get install -y vim\u0026quot; \u0026quot;nix-channel --update\u0026quot; commands.enter# Entry command executed each time you enter the container shell. Use this for environment setup.\n[commands] enter = \u0026#34;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026#34; Type: string Required: No Default: \u0026quot;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026quot; Notes: If the command uses exec, it replaces the shell process mounts# Additional mount points beyond the default project mount. Supports both simple string format and extended object format with exclude patterns.\nSimple String Format# mounts = [ \u0026#34;/path/on/host:/path/in/container\u0026#34;, \u0026#34;~/.ssh:/root/.ssh:ro\u0026#34; ] Format: \u0026quot;host_path:container_path\u0026quot; or \u0026quot;host_path:container_path:ro\u0026quot; Options: ro (read-only) Extended Object Format# Use the extended format when you need to exclude files from being visible inside the container. See AGD-025 for design rationale.\n[[mounts]] source = \u0026#34;/Users/me/project\u0026#34; target = \u0026#34;/workspace\u0026#34; readonly = false exclude = [ \u0026#34;**/.env.prod\u0026#34;, \u0026#34;**/.env.local\u0026#34;, \u0026#34;**/secrets/\u0026#34;, \u0026#34;**/*.key\u0026#34;, ] Field Type Required Default Description source string Yes - Host path target string Yes - Container path readonly bool No false Read-only mount exclude array No [] Glob patterns to exclude Exclude Patterns# Exclude patterns follow gitignore-like syntax (Mutagen ignore format):\nPattern Matches **/ Any directory depth *.ext Files with extension dir/ Directory (trailing slash) **/.env .env file at any depth **/secrets/ secrets/ directory at any depth Recommended excludes for Node.js projects:\n[[mounts]] source = \u0026#34;.\u0026#34; target = \u0026#34;/workspace\u0026#34; exclude = [ \u0026#34;node_modules/\u0026#34;, # Container runs its own npm install \u0026#34;.pnpm-store/\u0026#34;, # pnpm cache \u0026#34;dist/\u0026#34;, # Build output \u0026#34;.next/\u0026#34;, # Next.js cache ]Note: When excludes are specified, Alcatraz uses Mutagen for file synchronization instead of direct bind mounts. This provides file filtering but introduces 50-200ms sync latency.\nType: array (strings or objects) Required: No Default: [] resources.memory# Memory limit for the container.\n[resources] memory = \u0026#34;4g\u0026#34; Type: string Required: No Default: None (no limit, uses runtime default) Format: Number followed by suffix Suffixes: b (bytes), k (KB), m (MB), g (GB) Examples: \u0026quot;512m\u0026quot;, \u0026quot;2g\u0026quot;, \u0026quot;16g\u0026quot; resources.cpus# CPU limit for the container.\n[resources] cpus = 4 Type: integer Required: No Default: None (no limit, uses runtime default) Examples: 1, 2, 4, 8 envs# Environment variables for the container. See AGD-017 for design rationale.\n[envs] # Static value - set at container creation NIXPKGS_ALLOW_UNFREE = \u0026#34;1\u0026#34; # Read from host environment at container creation MY_TOKEN = \u0026#34;${MY_TOKEN}\u0026#34; # Read from host and refresh on each `alca run` EDITOR = { value = \u0026#34;${EDITOR}\u0026#34;, override_on_enter = true } Type: table (key-value pairs) Required: No Value formats: \u0026quot;string\u0026quot; - Static value or ${VAR} reference, set at container creation { value = \u0026quot;...\u0026quot;, override_on_enter = true } - Also refresh on each alca run Variable Expansion# Use ${VAR} to read from host environment. Only simple syntax is supported:\n[envs] # Valid TERM = \u0026#34;${TERM}\u0026#34; MY_VAR = \u0026#34;${MY_CUSTOM_VAR}\u0026#34; # Invalid - will error GREETING = \u0026#34;hello${NAME}\u0026#34; # Complex interpolation not supportedDefault Environment Variables# The following are passed by default with override_on_enter = true:\nVariable Description TERM Terminal type COLORTERM Color terminal capability LANG Default locale LC_ALL Override all locale settings LC_COLLATE Collation order LC_CTYPE Character classification LC_MESSAGES Message language LC_MONETARY Monetary formatting LC_NUMERIC Numeric formatting LC_TIME Date/time formatting User-defined values override these defaults.\ncaps# Linux capabilities configuration for container security. See AGD-026 for design rationale.\nSecurity rationale: Docker\u0026rsquo;s default capabilities include dangerous ones like NET_RAW (network sniffing) and MKNOD (device creation) that AI development environments don\u0026rsquo;t need. Alcatraz drops all capabilities by default and only adds the minimal set needed for development workflows.\nDefault Behavior (No caps field)# # No caps field - secure defaults applied image = \u0026#34;nixos/nix\u0026#34;Result: --cap-drop ALL --cap-add CHOWN --cap-add DAC_OVERRIDE --cap-add FOWNER --cap-add KILL --cap-add SETUID --cap-add SETGID\nDefault capabilities:\nCHOWN: Package managers (npm, pip, cargo) need to modify file ownership DAC_OVERRIDE: Bypass file read/write/execute permission checks for file operations in containers FOWNER: Modify file permissions and attributes during builds KILL: Terminate child processes (test runners, dev servers) SETUID: Required by package managers (apt, nix) for sandbox/daemon builds SETGID: Required by package managers (apt, nix) for sandbox/daemon builds Mode 1: Additive (Array)# Add capabilities beyond the defaults:\ncaps = [\u0026#34;NET_BIND_SERVICE\u0026#34;]Result: --cap-drop ALL --cap-add CHOWN --cap-add DAC_OVERRIDE --cap-add FOWNER --cap-add KILL --cap-add SETUID --cap-add SETGID --cap-add NET_BIND_SERVICE\nUse this when you need additional capabilities but want to keep the secure default base.\nMode 2: Full Control (Object)# Take complete control over capabilities:\n[caps] drop = [\u0026#34;NET_RAW\u0026#34;, \u0026#34;MKNOD\u0026#34;, \u0026#34;AUDIT_WRITE\u0026#34;] add = [\u0026#34;CHOWN\u0026#34;, \u0026#34;FOWNER\u0026#34;, \u0026#34;KILL\u0026#34;, \u0026#34;SETUID\u0026#34;, \u0026#34;SETGID\u0026#34;]Result: --cap-drop NET_RAW --cap-drop MKNOD --cap-drop AUDIT_WRITE --cap-add CHOWN --cap-add FOWNER --cap-add KILL --cap-add SETUID --cap-add SETGID\nUse this when you want explicit control. No implicit defaults are applied in this mode.\nExample: Keep Docker Defaults, Drop Dangerous Ones# [caps] drop = [\u0026#34;NET_RAW\u0026#34;, \u0026#34;MKNOD\u0026#34;, \u0026#34;SYS_CHROOT\u0026#34;] # No add field - keeps Docker defaults minus dropped onesResult: --cap-drop NET_RAW --cap-drop MKNOD --cap-drop SYS_CHROOT\nTroubleshooting# Error Solution Permission denied when writing files Add DAC_OVERRIDE capability Operation not permitted with setuid Ensure SETUID and SETGID are in add list (included by default) Package manager fails to change ownership Ensure CHOWN and FOWNER are in add list Runtime-Specific Notes# Docker / Podman# Resource limits are passed as container-level flags:\nMemory: -m or --memory flag CPU: --cpus flag Important: On macOS, Docker Desktop runs containers in a VM with fixed resource allocation. Container limits are constrained by the VM\u0026rsquo;s allocated resources. Configure VM resources via Docker Desktop \u0026gt; Settings \u0026gt; Resources.\nmacOS Users: We recommend OrbStack as it provides automatic memory management (shrinking unused memory), which colima and lima do not support.\nNetwork Configuration# Configure network access for containers. See AGD-023 for design rationale.\nnetwork.lan-access# Allow containers to access LAN hosts.\n[network] lan-access = [\u0026#34;*\u0026#34;] Type: array of strings Required: No Default: [] (no LAN access) Valid values: \u0026quot;*\u0026quot; (allow all LAN access) Platform Behavior# Platform Runtime Behavior macOS Docker Desktop LAN access works natively, no additional setup macOS OrbStack Requires network-helper for NAT rules Linux Docker/Podman LAN access works natively OrbStack Setup (macOS only)# When using OrbStack on macOS, containers cannot access LAN hosts by default due to a NAT issue. Alcatraz provides a network helper to configure pf firewall rules.\n# One-time installation (requires sudo) alca network-helper install # Check status alca network-helper status # Uninstall alca network-helper uninstallHow it works:\nOn alca up, if lan-access = [\u0026quot;*\u0026quot;] is configured:\nDocker Desktop: No action needed OrbStack: Creates NAT rule in /etc/pf.anchors/alcatraz/ On alca down:\nRemoves project-specific rule file If no other projects use LAN access, removes shared NAT rule Manual cleanup (if alca is broken):\n# View what alcatraz added sudo pfctl -a \u0026#34;alcatraz\u0026#34; -s all # Remove all alcatraz rules sudo pfctl -a \u0026#34;alcatraz\u0026#34; -F all # Remove LaunchDaemon sudo launchctl unload /Library/LaunchDaemons/com.alcatraz.pf-watcher.plist sudo rm /Library/LaunchDaemons/com.alcatraz.pf-watcher.plist # Remove rule files sudo rm -rf /etc/pf.anchors/alcatraz/Full Example# # Container image image = \u0026#34;nixos/nix\u0026#34; # Working directory inside container workdir = \u0026#34;/workspace\u0026#34; # Runtime selection: auto or docker runtime = \u0026#34;auto\u0026#34; # Lifecycle commands [commands] up = \u0026#34;nix-channel --update\u0026#34; enter = \u0026#34;[ -f flake.nix ] \u0026amp;\u0026amp; exec nix develop\u0026#34; # Additional mounts mounts = [ \u0026#34;~/.gitconfig:/root/.gitconfig:ro\u0026#34;, \u0026#34;~/.ssh:/root/.ssh:ro\u0026#34; ] # Resource limits [resources] memory = \u0026#34;16g\u0026#34; cpus = 8 # Environment variables [envs] NIXPKGS_ALLOW_UNFREE = \u0026#34;1\u0026#34; EDITOR = { value = \u0026#34;${EDITOR}\u0026#34;, override_on_enter = true } # Network configuration (macOS only) [network] lan-access = [\u0026#34;*\u0026#34;]"},{"id":2,"href":"/alcatraz/runtimes/","title":"Runtimes","section":"Alcatraz Documentation","content":"Runtimes# Alcatraz supports multiple container runtimes for isolating code execution. This document covers the supported runtimes, their characteristics, and how to configure them.\nRuntime Overview# Auto-Detection# By default (runtime = \u0026quot;auto\u0026quot;), Alcatraz automatically selects the best available runtime:\nPlatform Priority Order Linux Podman \u0026gt; Docker Other Docker macOS Users: We recommend OrbStack as it provides automatic memory management (shrinking unused memory), which colima and lima do not support.\nManual Selection# Override auto-detection by setting runtime in .alca.toml:\nruntime = \u0026#34;docker\u0026#34; # Force Docker runtime = \u0026#34;auto\u0026#34; # Auto-detect (default)Docker# Docker is the most widely supported runtime, available on macOS, Linux, and Windows.\nAvailability# Alcatraz checks for Docker availability by running:\ndocker version --format \u0026#39;{{.Server.Version}}\u0026#39;macOS Behavior# On macOS, Docker runs containers inside a Linux VM (Docker Desktop):\nVM Model: Single shared VM for all containers Memory: Must be pre-allocated to the VM via Docker Desktop settings Memory Release: The VM does not release unused memory back to macOS (known limitation) Resource Limits: Container limits (-m, --cpus) constrained by VM allocation To configure VM resources:\nDocker Desktop \u0026gt; Settings \u0026gt; Resources \u0026gt; Advanced Or edit ~/.docker/daemon.json Linux Behavior# On Linux, Docker runs containers natively:\nVM Model: None (native kernel) Memory: Allocated on-demand from host Memory Release: Automatic, managed by cgroups Resource Limits: Direct cgroups control, no VM constraint Resource Limits# # Via alca.toml [resources] memory = \u0026#34;4g\u0026#34; cpus = 4 # Translates to: docker run -m 4g --cpus 4 ...Troubleshooting# Issue Solution \u0026ldquo;Docker not found\u0026rdquo; Install Docker Desktop or Docker Engine \u0026ldquo;Cannot connect to Docker daemon\u0026rdquo; Start Docker Desktop or sudo systemctl start docker Container slow / memory issues Increase Docker Desktop VM memory allocation Podman# Podman is preferred on Linux for its rootless container support.\nAvailability# Alcatraz checks for Podman availability by running:\npodman version --format \u0026#39;{{.Version}}\u0026#39;macOS Behavior# On macOS, Podman requires a VM (podman machine):\n# Initialize VM podman machine init --cpus 4 --memory 8192 --disk-size 100 # Modify existing VM (QEMU only, not Apple Hypervisor) podman machine stop podman machine set --cpus 8 --memory 16384 podman machine start VM Model: Single shared VM (similar to Docker Desktop) Memory Release: Manual (same limitation as Docker) Linux Behavior# On Linux, Podman runs natively with rootless support:\nVM Model: None (native kernel) Memory: Direct cgroups control Rootless: Can run containers without root privileges Resource Limits# # Via alca.toml (same as Docker) [resources] memory = \u0026#34;4g\u0026#34; cpus = 4 # Translates to: podman run -m 4g --cpus 4 ...Troubleshooting# Issue Solution \u0026ldquo;Podman not found\u0026rdquo; Install via package manager (brew install podman, apt install podman) macOS: \u0026ldquo;podman machine not running\u0026rdquo; Run podman machine start macOS: Cannot set CPU/memory QEMU backend required, Apple Hypervisor has limitations Comparison Table# Feature Docker (macOS) Docker (Linux) Podman (macOS) Podman (Linux) VM Model Single shared VM None (native) Single shared VM None (native) Idle Memory 3-4 GB ~0 3-4 GB ~0 Memory Release Manual Automatic Manual Automatic Resource Isolation Shared VM Native cgroups Shared VM Native cgroups Host Config Needed Yes (VM settings) No Yes (VM settings) No Per-container Limits Yes (-m, --cpus) Yes (-m, --cpus) Yes (-m, --cpus) Yes (-m, --cpus) Live Update docker update docker update Limited Limited Rootless No Optional No Yes (default) Platform macOS, Linux, Windows Linux macOS, Linux Linux Verifying Runtime Selection# Check which runtime Alcatraz is using:\n# Show detected runtime alca statusThe status output indicates the active runtime.\nReferences# Docker Resource Constraints Docker Desktop Settings Podman Machine Init OrbStack — Recommended Docker runtime for macOS "},{"id":3,"href":"/alcatraz/commands/alca/","title":"alca","section":"Command Reference","content":"alca# Alcatraz - Lightweight container isolation for AI coding assistants\nSynopsis# Alcatraz (alca) provides lightweight container isolation for AI coding assistants. It wraps AI agent processes in configurable containers for enhanced security.\nOptions# -h, --help help for alcaSEE ALSO# alca cleanup\t- Remove orphaned Alcatraz containers alca down\t- Stop the sandbox environment alca experimental\t- Experimental commands (use with caution) alca init\t- Initialize Alcatraz configuration in current directory alca list\t- List all Alcatraz containers alca network-helper\t- Manage network helper for LAN access alca run\t- Run a command inside the sandbox alca status\t- Show current Alcatraz status alca up\t- Start the sandbox environment Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":4,"href":"/alcatraz/commands/alca_cleanup/","title":"alca cleanup","section":"Command Reference","content":"alca cleanup# Remove orphaned Alcatraz containers\nSynopsis# Find and remove orphaned Alcatraz containers.\nAn orphan container is one whose project directory no longer exists, or whose state file (.alca/state.json) has been deleted.\nalca cleanup [flags]Options# --all Delete all orphan containers without prompting -h, --help help for cleanupSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":5,"href":"/alcatraz/commands/alca_down/","title":"alca down","section":"Command Reference","content":"alca down# Stop the sandbox environment\nSynopsis# Stop the running Alcatraz sandbox environment.\nalca down [flags]Options# -h, --help help for downSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":6,"href":"/alcatraz/commands/alca_experimental/","title":"alca experimental","section":"Command Reference","content":"alca experimental# Experimental commands (use with caution)\nSynopsis# Experimental commands that may change or be removed in future versions.\nOptions# -h, --help help for experimentalSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants alca experimental reload\t- Reload sandbox configuration Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":7,"href":"/alcatraz/commands/alca_experimental_reload/","title":"alca experimental reload","section":"Command Reference","content":"alca experimental reload# Reload sandbox configuration\nSynopsis# Reload the sandbox configuration without rebuilding from scratch.\nThis command re-applies mounts and configuration by recreating the container with the updated settings. Running processes inside the container will be terminated.\nThis is an experimental feature and its behavior may change in future versions.\nalca experimental reload [flags]Options# -h, --help help for reloadSEE ALSO# alca experimental\t- Experimental commands (use with caution) Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":8,"href":"/alcatraz/commands/alca_init/","title":"alca init","section":"Command Reference","content":"alca init# Initialize Alcatraz configuration in current directory\nSynopsis# Initialize Alcatraz by creating a .alca.toml configuration file in the current directory with default settings.\nalca init [flags]Options# -h, --help help for initSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":9,"href":"/alcatraz/commands/alca_list/","title":"alca list","section":"Command Reference","content":"alca list# List all Alcatraz containers\nSynopsis# List all containers managed by Alcatraz across all projects.\nalca list [flags]Options# -h, --help help for listSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":10,"href":"/alcatraz/commands/alca_network-helper/","title":"alca network-helper","section":"Command Reference","content":"alca network-helper# Manage network helper for LAN access\nSynopsis# Manage the network helper for container LAN access.\nOn macOS: Installs a LaunchDaemon that watches pf anchor files and automatically reloads firewall rules when they change.\nOn Linux: Configures nftables to include alcatraz rule files from /etc/nftables.d/alcatraz/ for persistent firewall rules.\nOptions# -h, --help help for network-helperSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants alca network-helper install\t- Install the network helper alca network-helper status\t- Show network helper status alca network-helper uninstall\t- Uninstall the network helper Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":11,"href":"/alcatraz/commands/alca_network-helper_install/","title":"alca network-helper install","section":"Command Reference","content":"alca network-helper install# Install the network helper\nSynopsis# Install the network helper for automatic firewall rule management.\nOn macOS:\nCreate /etc/pf.anchors/alcatraz/ directory Install LaunchDaemon plist to /Library/LaunchDaemons/ Load the LaunchDaemon On Linux:\nCreate /etc/nftables.d/alcatraz/ directory Add include line to /etc/nftables.conf Reload nftables configuration Requires sudo privileges.\nalca network-helper install [flags]Options# -h, --help help for installSEE ALSO# alca network-helper\t- Manage network helper for LAN access Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":12,"href":"/alcatraz/commands/alca_network-helper_status/","title":"alca network-helper status","section":"Command Reference","content":"alca network-helper status# Show network helper status\nSynopsis# Display the current status of the network helper, including LaunchDaemon state and active rules.\nalca network-helper status [flags]Options# -h, --help help for statusSEE ALSO# alca network-helper\t- Manage network helper for LAN access Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":13,"href":"/alcatraz/commands/alca_network-helper_uninstall/","title":"alca network-helper uninstall","section":"Command Reference","content":"alca network-helper uninstall# Uninstall the network helper\nSynopsis# Uninstall the network helper and clean up all rules.\nOn macOS:\nUnload the LaunchDaemon Remove the plist file Flush all alcatraz pf rules Remove /etc/pf.anchors/alcatraz/ directory On Linux:\nRemove all rule files from /etc/nftables.d/alcatraz/ Remove include line from /etc/nftables.conf Delete all alca-* nftables tables Remove /etc/nftables.d/alcatraz/ directory Requires sudo privileges.\nalca network-helper uninstall [flags]Options# -h, --help help for uninstallSEE ALSO# alca network-helper\t- Manage network helper for LAN access Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":14,"href":"/alcatraz/commands/alca_run/","title":"alca run","section":"Command Reference","content":"alca run# Run a command inside the sandbox\nSynopsis# Execute a command inside the Alcatraz sandbox environment.\nalca run [command] [flags]Options# -h, --help help for runSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":15,"href":"/alcatraz/commands/alca_status/","title":"alca status","section":"Command Reference","content":"alca status# Show current Alcatraz status\nSynopsis# Display the current status of Alcatraz sandbox configuration and running processes.\nalca status [flags]Options# -h, --help help for statusSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "},{"id":16,"href":"/alcatraz/commands/alca_up/","title":"alca up","section":"Command Reference","content":"alca up# Start the sandbox environment\nSynopsis# Start the Alcatraz sandbox environment based on the current configuration.\nalca up [flags]Options# -f, --force Force rebuild without confirmation on config change -h, --help help for up -q, --quiet Suppress progress outputSEE ALSO# alca\t- Alcatraz - Lightweight container isolation for AI coding assistants Auto generated by spf13/cobra on 7-Feb-2026# "}]